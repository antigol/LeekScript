function sequence_length(n) {
	var l = 1
	while n != 1 {
		l++
		n = if (n % 2) { // TODO replace with a match (doesn't work)
			3 * n + 1
		} else {
			n \ 2
		}
	}
	l // TODO return l fails
}

var max = 0
var n = 0

for var i = 500001l; i <= 1000000; i += 2Â {
	var l = sequence_length(i)
	if l > max {
		max = l
		n = i
	}
}

return n
